<script src="slug-web.js"></script>

<style>
  body {text-align: center}
  table {border-spacing: 15px;}
  td {vertical-align: top; width: 20%; background-color: #eee; padding: 10px; }
</style>

<h1>Federated Wiki Title Network</h1>
<p>Click a title to center the display on that page of the federation.</p>
<table>
  <tr>
    <th id="gdadh"> <th id="dadh"> <th id="meh"> <th id="sonh"> <th id="gsonh">
  <tr>
    <td id="gdad"> <td id="dad"> <td id="me"> <td id="son"> <td id="gson">

<script>

  var center = location.search.replace(/^\?/,'')
  var left = inbound(center)

  gdad.innerHTML = left.map(inbound).map(link).join('<br>')
  dad.innerHTML = link(left)
  me.innerHTML = center
  son.innerHTML = outbound(center)
  gson.innerHTML = slugs[center].links.map(outbound).join('<br>')

  function inbound (slug) {
    function here (each) {return each == slug}
    var result = []
    for (var cite in slugs) {
      if (slugs[cite].links.some(here)) {
        result.push(cite)
      }
    }
    return result
  }

  function outbound (slug) {
    return slugs[slug].links.join('<br>')
  }

  function link (slugs) {
    return slugs.map(function(each) {return each}).join('<br>')
  }

</script>
